<!DOCTYPE html>
<html>
  <head>
    <title>Meu Projeto AR</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://raw.githack.com/fcor/arjs-gestures/master/dist/gestures.js"></script>
  </head>

  <body style="margin:0; overflow:hidden;">
    <a-scene embedded arjs="sourceType: webcam;" gesture-detector>
      <!-- Câmera com cursor -->
      <a-entity camera cursor="rayOrigin: mouse; fuse:false" raycaster="objects: .tocavel"></a-entity>

      <!-- Marcador AR -->
      <a-marker preset="hiro">
        <a-entity id="modelo" class="tocavel" gesture-handler
          gltf-model="url(Globo.glb)"
          scale="1 1 1"
          position="0 0.5 0"
          rotation="0 0 0"
          animation__spin="property: rotation; to: 0 360 0; dur: 4000; easing: linear; loop: true; autoplay: true">
        </a-entity>
      </a-marker>
    </a-scene>

    <script>
      const modelo = document.querySelector('#modelo');

      /* ====== Interação 1: Pressionar e segurar ======
         Cresce bastante enquanto estiver pressionado */
      modelo.addEventListener('mousedown', () => {
        modelo.setAttribute('animation__grow', {
          property: 'scale',
          to: '2.5 2.5 2.5',   // Escala
          dur: 400,
          easing: 'easeOutElastic'
        });
      });

      modelo.addEventListener('mouseup', () => {
        modelo.setAttribute('animation__shrink', {
          property: 'scale',
          to: '1 1 1',
          dur: 400,
          easing: 'easeOutElastic'
        });
      });

      /* ====== Interação 2: Toque rápido ======
         Pulsa com um aumento visível e rápido */
      modelo.addEventListener('gesture-tap', () => {
        modelo.setAttribute('animation__pulse', {
          property: 'scale',
          dir: 'alternate',
          dur: 250,
          loop: 3,
          to: '1.8 1.8 1.8',   // Pulso
          easing: 'easeInOutElastic'
        });
      });
    </script>
  </body>
</html>
